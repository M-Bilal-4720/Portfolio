trigger:
  - main  # Trigger on push to main branch

pool:
  name: Default  # Make sure this matches your self-hosted agent pool name

variables:
  DEPLOY_PATH: "/var/www/your_domain/Portfolio"

steps:
  - script: |
      echo "üöÄ Starting Deployment"

      echo "Changing to directory: $(DEPLOY_PATH)"
      cd "$(DEPLOY_PATH)" || { echo "‚ùå Directory not found: $(DEPLOY_PATH)"; exit 1; }

      if [ -d ".git" ]; then
        echo "‚úÖ Git repo found at $(DEPLOY_PATH)"
        git reset --hard
        git pull origin main
        echo "‚úÖ Code pulled successfully"
      else
        echo "‚ùå No git repo found at $(DEPLOY_PATH)"
        ls -la
        exit 1
      fi
    displayName: "üì• Pull Latest Code"

