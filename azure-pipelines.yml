trigger:
  - main  # Trigger on push to main branch

pool:
  name: Default  # Make sure this matches your self-hosted agent pool name

variables:
  DEPLOY_PATH: "/var/www/your_domain/Portfolio"  # Absolute path to your local deployment directory

steps:
  - checkout: none  # Prevent Azure Pipelines from doing its own checkout (since you're doing manual git pull)

  - script: |
      echo "üöÄ Starting Deployment"
      
      if [ -d "$DEPLOY_PATH/.git" ]; then
        echo "‚úÖ Git repo found at $DEPLOY_PATH"
      else
        echo "‚ùå No git repo found at $DEPLOY_PATH"
        ls -la $DEPLOY_PATH
        exit 1
      fi
      
      cd $DEPLOY_PATH
      git reset --hard
      git pull origin main
      echo "‚úÖ Code pulled successfully"
    displayName: "üì• Pull Latest Code"

